Version 4
SHEET 1 4660 1232
WIRE 1088 -464 928 -464
WIRE 1696 -448 1552 -448
WIRE 1632 -416 1552 -416
WIRE 1792 -416 1632 -416
WIRE 1984 -416 1856 -416
WIRE 1632 -384 1552 -384
WIRE 1632 -352 1552 -352
WIRE 1088 -320 1088 -464
WIRE 1632 -320 1552 -320
WIRE 1632 -288 1552 -288
WIRE 1632 -256 1552 -256
WIRE 416 -224 304 -224
WIRE 1632 -224 1552 -224
WIRE 1088 -208 1088 -240
WIRE 1632 -192 1552 -192
WIRE 928 -160 928 -464
WIRE 1632 -160 1552 -160
WIRE 1296 -144 1264 -144
WIRE 1632 -128 1552 -128
WIRE 704 -112 624 -112
WIRE 832 -112 784 -112
WIRE 1296 -112 1008 -112
WIRE 624 -96 624 -112
WIRE 1632 -96 1552 -96
WIRE -1664 -64 -2032 -64
WIRE -1296 -64 -1664 -64
WIRE -896 -64 -1296 -64
WIRE -512 -64 -896 -64
WIRE -112 -64 -512 -64
WIRE 272 -64 -112 -64
WIRE 464 -64 464 -208
WIRE 464 -64 272 -64
WIRE 704 -64 464 -64
WIRE 832 -64 784 -64
WIRE 1280 -64 1008 -64
WIRE 1632 -64 1552 -64
WIRE 1632 -32 1552 -32
WIRE 832 -16 752 -16
WIRE 1632 0 1552 0
WIRE 928 32 928 0
WIRE 1632 32 1552 32
WIRE 1632 64 1552 64
WIRE -2032 80 -2032 -64
WIRE -1664 80 -1664 -64
WIRE -1296 80 -1296 -64
WIRE -896 80 -896 -64
WIRE -512 80 -512 -64
WIRE -112 80 -112 -64
WIRE 272 80 272 -64
WIRE 1632 96 1552 96
WIRE 1632 128 1552 128
WIRE 1632 160 1552 160
WIRE 560 192 464 192
WIRE 1632 192 1552 192
WIRE 560 208 464 208
WIRE 560 224 544 224
WIRE -2032 240 -2032 144
WIRE -2032 240 -2112 240
WIRE -1936 240 -2032 240
WIRE -1664 240 -1664 144
WIRE -1664 240 -1744 240
WIRE -1568 240 -1664 240
WIRE -1296 240 -1296 144
WIRE -1296 240 -1376 240
WIRE -1200 240 -1296 240
WIRE -896 240 -896 144
WIRE -896 240 -976 240
WIRE -800 240 -896 240
WIRE -512 240 -512 144
WIRE -512 240 -592 240
WIRE -416 240 -512 240
WIRE -112 240 -112 144
WIRE -112 240 -192 240
WIRE -16 240 -112 240
WIRE 272 240 272 144
WIRE 272 240 192 240
WIRE 368 240 272 240
WIRE 544 240 544 224
WIRE 560 240 544 240
WIRE 752 240 752 -16
WIRE 752 240 624 240
WIRE -2112 272 -2112 240
WIRE -1936 272 -1936 240
WIRE -1744 272 -1744 240
WIRE -1568 272 -1568 240
WIRE -1376 272 -1376 240
WIRE -1200 272 -1200 240
WIRE -976 272 -976 240
WIRE -800 272 -800 240
WIRE -592 272 -592 240
WIRE -416 272 -416 240
WIRE -192 272 -192 240
WIRE -16 272 -16 240
WIRE 192 272 192 240
WIRE 368 272 368 240
WIRE 544 272 544 240
WIRE 560 272 560 256
WIRE 560 272 544 272
WIRE 576 272 576 256
WIRE 576 272 560 272
WIRE 576 304 576 272
WIRE -2160 368 -2160 336
WIRE -1984 368 -1984 336
WIRE -1792 368 -1792 336
WIRE -1616 368 -1616 336
WIRE -1424 368 -1424 336
WIRE -1248 368 -1248 336
WIRE -1024 368 -1024 336
WIRE -848 368 -848 336
WIRE -640 368 -640 336
WIRE -464 368 -464 336
WIRE -240 368 -240 336
WIRE -64 368 -64 336
WIRE 144 368 144 336
WIRE 320 368 320 336
WIRE -2112 384 -2112 352
WIRE -1744 384 -1744 352
WIRE -1376 384 -1376 352
WIRE -976 384 -976 352
WIRE -592 384 -592 352
WIRE -192 384 -192 352
WIRE 192 384 192 352
WIRE -1936 496 -1936 352
WIRE -1568 496 -1568 352
WIRE -1568 496 -1936 496
WIRE -1200 496 -1200 352
WIRE -1200 496 -1568 496
WIRE -800 496 -800 352
WIRE -800 496 -1200 496
WIRE -416 496 -416 352
WIRE -416 496 -800 496
WIRE -16 496 -16 352
WIRE -16 496 -416 496
WIRE 368 496 368 352
WIRE 368 496 -16 496
WIRE 592 496 368 496
WIRE 688 496 592 496
WIRE 912 496 768 496
WIRE 912 512 912 496
WIRE 752 592 752 544
WIRE 912 624 912 592
WIRE 1456 656 1456 592
WIRE -16 736 -16 672
WIRE 1456 784 1456 736
WIRE -16 896 -16 816
WIRE 592 896 592 496
WIRE 704 896 592 896
WIRE 848 896 784 896
WIRE 864 896 848 896
WIRE 864 912 864 896
WIRE 768 1008 768 944
WIRE 864 1024 864 992
FLAG 192 384 0
FLAG 320 288 0
FLAG 144 288 0
FLAG 320 368 SW5
FLAG 144 368 SW5B
FLAG -192 384 0
FLAG -64 288 0
FLAG -240 288 0
FLAG -64 368 SW4
FLAG -240 368 SW4B
FLAG -592 384 0
FLAG -464 288 0
FLAG -640 288 0
FLAG -464 368 SW3
FLAG -640 368 SW3B
FLAG -976 384 0
FLAG -848 288 0
FLAG -1024 288 0
FLAG -848 368 SW2
FLAG -1024 368 SW2B
FLAG -1376 384 0
FLAG -1248 288 0
FLAG -1424 288 0
FLAG -1248 368 SW1
FLAG -1424 368 SW1B
FLAG -1744 384 0
FLAG -1616 288 0
FLAG -1792 288 0
FLAG -1616 368 SW0
FLAG -1792 368 SW0B
FLAG -2112 384 0
FLAG -1984 288 0
FLAG -2160 288 0
FLAG -1984 368 Sample
FLAG -2160 368 COMP_ENB
FLAG 704 544 0
FLAG 752 592 COMP_ENB
FLAG 720 944 0
FLAG 768 1008 Sample
FLAG 912 624 0
FLAG -16 896 0
FLAG -16 672 CLK
FLAG 864 1024 0
FLAG 464 -288 0
FLAG 416 -272 0
FLAG 304 -224 Sample
FLAG 576 304 0
FLAG 464 192 CLK
FLAG 464 208 COMP_EN
FLAG 1264 -144 CLK
FLAG 1632 -416 COMP_EN
FLAG 1632 -384 Q00
FLAG 1632 -352 Q01
FLAG 1632 -320 Q02
FLAG 1632 -288 Q03
FLAG 1632 -256 Q04
FLAG 1632 -224 Q05
FLAG 1632 -192 Sample
FLAG 1632 -160 SW0
FLAG 1632 -128 SW0B
FLAG 1632 -96 SW1
FLAG 1632 -64 SW1B
FLAG 1632 -32 SW2
FLAG 1632 0 SW2B
FLAG 1632 32 SW3
FLAG 1632 64 SW3B
FLAG 1632 96 SW4
FLAG 1632 128 SW4B
FLAG 1632 160 SW5
FLAG 1632 192 SW5B
FLAG 1984 -416 COMP_ENB
FLAG 1792 -400 0
FLAG 1456 784 0
FLAG 1456 592 DOUT
FLAG 624 -96 0
FLAG 1696 -448 CLR
FLAG 1088 -208 0
FLAG 928 32 0
FLAG 848 896 Vin
SYMBOL cap 256 80 R0
SYMATTR InstName C1
SYMATTR Value 320f
SYMBOL sw 368 256 R0
SYMATTR InstName S1
SYMBOL sw 192 256 R0
SYMATTR InstName S2
SYMBOL cap -128 80 R0
SYMATTR InstName C2
SYMATTR Value 160f
SYMBOL sw -16 256 R0
SYMATTR InstName S3
SYMBOL sw -192 256 R0
SYMATTR InstName S4
SYMBOL cap -528 80 R0
SYMATTR InstName C3
SYMATTR Value 80f
SYMBOL sw -416 256 R0
SYMATTR InstName S5
SYMBOL sw -592 256 R0
SYMATTR InstName S6
SYMBOL cap -912 80 R0
SYMATTR InstName C4
SYMATTR Value 40f
SYMBOL sw -800 256 R0
SYMATTR InstName S7
SYMBOL sw -976 256 R0
SYMATTR InstName S8
SYMBOL cap -1312 80 R0
SYMATTR InstName C5
SYMATTR Value 20f
SYMBOL sw -1200 256 R0
SYMATTR InstName S9
SYMBOL sw -1376 256 R0
SYMATTR InstName S10
SYMBOL cap -1680 80 R0
SYMATTR InstName C6
SYMATTR Value 10f
SYMBOL sw -1568 256 R0
SYMATTR InstName S11
SYMBOL sw -1744 256 R0
SYMATTR InstName S12
SYMBOL cap -2048 80 R0
SYMATTR InstName C7
SYMATTR Value 10f
SYMBOL sw -1936 256 R0
SYMATTR InstName S13
SYMBOL sw -2112 256 R0
SYMATTR InstName S14
SYMBOL sw 672 496 R270
SYMATTR InstName S15
SYMBOL sw 688 896 R270
SYMATTR InstName S16
SYMBOL voltage -16 720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 {Vhigh} 0 30p 30p 5.55n 11.11n)
SYMBOL voltage 912 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {Vhigh}
SYMBOL voltage 864 896 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 42 Left 2
SYMATTR Value SINE(0.5 0.5 {fin} 0 0 0 0)
SYMATTR InstName VIN
SYMBOL sw 464 -304 R0
SYMATTR InstName S17
SYMBOL Digital\\or 592 160 R0
SYMATTR InstName A1
SYMATTR SpiceLine Trise={Trise} Td={Td} Vhigh={Vhigh}
SYMBOL Digital\\inv 1792 -480 R0
SYMATTR InstName A2
SYMATTR SpiceLine Vt=.5 Vh=0.1 Trise={Trise} Vhigh={Vhigh}
SYMBOL bv 1456 640 R0
SYMATTR InstName B1
SYMATTR Value V=(32*V(Q05)+16*V(Q04)+8*V(Q03)+4*V(Q02)+2*V(Q01)+V(Q00))/63
SYMBOL my_comparator 912 -80 R0
SYMATTR InstName X1
SYMBOL voltage 1088 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 1.8
SYMBOL voltage 800 -112 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value {common}
SYMBOL voltage 800 -64 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value {common}
SYMBOL mySARLogic 1424 -128 R0
SYMATTR InstName X2
TEXT -1008 720 Left 2 !.tran 0 10u 0 1n
TEXT -1008 744 Left 2 !.model SW SW(Ron=0.1 Roff=1G Vt=.5 Vh=-.4)
TEXT -1008 768 Left 2 !.meas tran reg1 find V(DOUT) AT=200n
TEXT -1008 672 Left 2 !.param Trise=30p\n.param Td=Trise
TEXT -680 648 Left 2 !.param Vhigh=1\n.param Vlow=0
TEXT 1248 888 Left 2 !*PULSE(0 {Vhigh} 0 12.8u 0 0.2u 13u)
TEXT -1008 648 Left 2 !.param common = 0.9
TEXT 1272 944 Left 2 !*SINE(0.5 0.5 {fin} 0 0 90 0)
TEXT -1008 824 Left 2 !.options plotwinsize = 0\n.options numdgt = 15
TEXT -1008 800 Left 2 !.FOUR {fin} 5 -1 V(DOUT)
TEXT 768 1184 Left 2 !*.param fin = 991219.9375\n.param fin = 200k
